<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Calculadora de ATH Realista y Comparativa Financiera</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"/>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #111827; /* bg-gray-900 */
        }
        .loader {
            border-top-color: #22d3ee; /* cyan-400 */
            -webkit-animation: spinner 1.5s linear infinite;
            animation: spinner 1.5s linear infinite;
        }
        @-webkit-keyframes spinner {
            0% { -webkit-transform: rotate(0deg); }
            100% { -webkit-transform: rotate(360deg); }
        }
        @keyframes spinner {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .social-icon:hover {
            transform: scale(1.15);
            color: #22d3ee; /* cyan-400 */
        }
        .tooltip {
            position: relative;
            display: inline-block;
        }
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: #1f2937;
            color: #d1d5db;
            text-align: center;
            border-radius: 6px;
            padding: 5px 0;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -100px;
            opacity: 0;
            transition: opacity 0.3s;
        }
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
    </style>
</head>
<body class="bg-gray-900 text-white">
<div class="container mx-auto p-4 md:p-8">
    <!-- Encabezado -->
    <header class="text-center mb-8">
        <h1 class="text-4xl font-bold text-cyan-400 mb-2">Calculadora de ATH Realista</h1>
        <p class="text-gray-400 max-w-2xl mx-auto">¬øPuede tu altcoin volver a su m√°ximo hist√≥rico? Esta herramienta calcula el market cap necesario considerando la inflaci√≥n de tokens.</p>
    </header>
    <!-- Barra de B√∫squeda -->
    <div class="max-w-xl mx-auto mb-8">
        <div class="relative flex gap-2">
            <input class="w-full bg-gray-800 border-2 border-gray-700 text-white rounded-lg px-4 py-3 focus:outline-none focus:border-cyan-500 transition-colors" id="searchInput" placeholder="Busca una criptomoneda (ej: Kusama, Movr)..." type="text"/>
            <button class="bg-cyan-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-cyan-600 transition" id="searchButton">Buscar</button>
        </div>
        <div class="relative w-full" id="suggestions-container">
            <div class="absolute z-20 w-full mt-1 bg-gray-800 border border-gray-700 rounded-lg hidden max-h-60 overflow-y-auto" id="suggestions-list">
                <!-- Sugerencias se insertan aqu√≠ din√°micamente -->
            </div>
        </div>
        <p class="text-red-400 text-sm mt-2 text-center hidden" id="error-message"></p>
    </div>
    <!-- Indicador de Carga Principal -->
    <div class="loader ease-linear rounded-full border-8 border-t-8 border-gray-700 h-16 w-16 mx-auto my-8 hidden" id="loader"></div>
    <!-- Contenedor de Resultados -->
    <div class="hidden" id="result">
        <!-- La tarjeta de resultados se insertar√° aqu√≠ din√°micamente -->
    </div>
    <!-- Secci√≥n de Ejemplos -->
    <div class="mt-12 max-w-4xl mx-auto">
        <h2 class="text-2xl font-semibold text-center mb-6">Ejemplos Populares</h2>
        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4" id="examples">
            <!-- Los botones con logos se insertar√°n aqu√≠ -->
        </div>
    </div>
    <!-- SECCI√ìN COMPARATIVA -->
    <div class="mt-16 max-w-4xl mx-auto p-6 bg-gray-800/50 rounded-xl border border-gray-700" id="comparison-section">
        <h2 class="text-3xl font-bold text-center mb-2 text-green-400">Finanzas Tradicionales vs. Cripto: ¬øPor qu√© conviene? üöÄüí∞</h2>
        <p class="text-gray-400 text-center mb-8">¬øD√≥nde rinde m√°s tu dinero? Una comparativa directa.</p>
        <div class="mb-8">
            <h3 class="text-2xl font-semibold mb-4 text-white">1. Rendimientos: Plazo Fijo en USD vs. Stablecoins</h3>
            <div class="overflow-x-auto">
                <table class="w-full text-sm text-left text-gray-400">
                    <thead class="text-xs text-cyan-300 uppercase bg-gray-700/50">
                        <tr>
                            <th class="px-6 py-3" scope="col">Caracter√≠stica</th>
                            <th class="px-6 py-3" scope="col">Plazo Fijo Bancario (TradFi)</th>
                            <th class="px-6 py-3" scope="col">Rendimientos en USDT/USDC (Cripto)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="border-b border-gray-700">
                            <th class="px-6 py-4 font-medium text-white whitespace-nowrap" scope="row">Rendimiento Anual (APY)</th>
                            <td class="px-6 py-4">~0.1% a 3.5% en LATAM.</td>
                            <td class="px-6 py-4 font-bold text-green-400">~5% a 15% o m√°s.</td>
                        </tr>
                        <tr class="border-b border-gray-700">
                            <th class="px-6 py-4 font-medium text-white whitespace-nowrap" scope="row">Flexibilidad</th>
                            <td class="px-6 py-4">Bloqueado. Retirar antes implica perder intereses.</td>
                            <td class="px-6 py-4">Total. Retiro en cualquier momento sin penalizaci√≥n.</td>
                        </tr>
                        <tr>
                            <th class="px-6 py-4 font-medium text-white whitespace-nowrap" scope="row">Acceso</th>
                            <td class="px-6 py-4">Requiere ser cliente, cumplir requisitos y montos m√≠nimos.</td>
                            <td class="px-6 py-4">Abierto a cualquier persona con una wallet. Puedes empezar con 1 d√≥lar.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="mb-8">
            <h3 class="text-2xl font-semibold mb-4 text-white">2. Acceso al Cr√©dito: Pr√©stamos Bancarios vs. DeFi</h3>
            <div class="overflow-x-auto">
                <table class="w-full text-sm text-left text-gray-400">
                    <thead class="text-xs text-cyan-300 uppercase bg-gray-700/50">
                        <tr>
                            <th class="px-6 py-3" scope="col">Caracter√≠stica</th>
                            <th class="px-6 py-3" scope="col">Pr√©stamo Bancario (TradFi)</th>
                            <th class="px-6 py-3" scope="col">Pr√©stamo Descentralizado (DeFi)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="border-b border-gray-700">
                            <th class="px-6 py-4 font-medium text-white whitespace-nowrap" scope="row">Requisitos</th>
                            <td class="px-6 py-4">Historial crediticio, demostraci√≥n de ingresos, papeleo, etc.</td>
                            <td class="px-6 py-4">Tener criptomonedas como colateral. Nada m√°s.</td>
                        </tr>
                        <tr class="border-b border-gray-700">
                            <th class="px-6 py-4 font-medium text-white whitespace-nowrap" scope="row">Proceso</th>
                            <td class="px-6 py-4">D√≠as o semanas de espera para aprobaci√≥n.</td>
                            <td class="px-6 py-4 font-bold text-green-400">En minutos, conectando tu wallet.</td>
                        </tr>
                        <tr>
                            <th class="px-6 py-4 font-medium text-white whitespace-nowrap" scope="row">Incentivos</th>
                            <td class="px-6 py-4">Ninguno.</td>
                            <td class="px-6 py-4">A menudo recibes recompensas en tokens por participar.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div>
            <h3 class="text-2xl font-semibold mb-4 text-white">3. Poder Adquisitivo: D√≥lar vs. Bitcoin</h3>
            <p class="text-gray-400 mb-4">¬øQu√© se pod√≠a comprar con el mismo valor inicial a lo largo del tiempo?</p>
            <div class="space-y-6">
                <!-- 2010 -->
                <div class="p-4 rounded-lg bg-gray-700/50">
                    <p class="font-bold text-lg">2010</p>
                    <div class="mt-2 flex items-center gap-4">
                        <div class="flex-shrink-0 w-1/4 text-center font-bold">$$$</div>
                        <p class="text-sm flex-grow">Con ~$40 se compraban un par de pizzas grandes.</p>
                    </div>
                    <div class="mt-2 flex items-center gap-4">
                        <div class="flex-shrink-0 w-1/4 text-center flex items-center justify-center">
                            <img alt="Bitcoin" class="h-5 w-5" src="https://assets.coingecko.com/coins/images/1/thumb/bitcoin.png?1696501400"/><img alt="Bitcoin" class="h-5 w-5 -ml-2" src="https://assets.coingecko.com/coins/images/1/thumb/bitcoin.png?1696501400"/><img alt="Bitcoin" class="h-5 w-5 -ml-2" src="https://assets.coingecko.com/coins/images/1/thumb/bitcoin.png?1696501400"/>
                            <strong class="ml-1">10.000</strong>
                        </div>
                        <p class="text-sm flex-grow">Con 10.000 BTC se compraban... un par de pizzas grandes.</p>
                    </div>
                </div>
                <!-- 2017 -->
                <div class="p-4 rounded-lg bg-gray-700/50">
                    <p class="font-bold text-lg">2017</p>
                    <div class="mt-2 flex items-center gap-4">
                        <div class="flex-shrink-0 w-1/4 text-center font-bold">$$</div>
                        <p class="text-sm flex-grow">Con ~$20.000 se compraba un auto nuevo.</p>
                    </div>
                    <div class="mt-2 flex items-center gap-4">
                        <div class="flex-shrink-0 w-1/4 text-center flex items-center justify-center">
                            <img alt="Bitcoin" class="h-5 w-5" src="https://assets.coingecko.com/coins/images/1/thumb/bitcoin.png?1696501400"/><img alt="Bitcoin" class="h-5 w-5 -ml-2" src="https://assets.coingecko.com/coins/images/1/thumb/bitcoin.png?1696501400"/>
                            <strong class="ml-1">~1</strong>
                        </div>
                        <p class="text-sm flex-grow text-green-400">Con ~1 BTC te comprabas el mismo auto nuevo.</p>
                    </div>
                </div>
                <!-- Hoy -->
                <div class="p-4 rounded-lg bg-gray-700/50">
                    <p class="font-bold text-lg">Hoy</p>
                    <div class="mt-2 flex items-center gap-4">
                        <div class="flex-shrink-0 w-1/4 text-center font-bold">$</div>
                        <p class="text-sm flex-grow">Con ~$70.000 se compra un auto de gama alta.</p>
                    </div>
                    <div class="mt-2 flex items-center gap-4">
                        <div class="flex-shrink-0 w-1/4 text-center flex items-center justify-center">
                            <img alt="Bitcoin" class="h-5 w-5" src="https://assets.coingecko.com/coins/images/1/thumb/bitcoin.png?1696501400"/>
                            <strong class="ml-1">1</strong>
                        </div>
                        <p class="text-sm flex-grow text-green-400">Con 1 BTC te compras el mismo auto y te sobra para una casa.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- SECCI√ìN DE PROYECCIONES AVANZADAS -->
    <div class="mt-16 max-w-6xl mx-auto p-6 bg-gray-800/50 rounded-xl border border-gray-700" id="advanced-section">
        <h2 class="text-3xl font-bold text-center mb-2 text-cyan-400">Calculadora de Proyecciones Avanzadas</h2>
        <p class="text-gray-400 text-center mb-8">Calcula escenarios hipot√©ticos y el potencial real de tus inversiones.</p>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <div class="bg-gray-800 p-6 rounded-lg border border-gray-700">
                <h3 class="text-xl font-semibold mb-4 text-white">Simulador de "Flippening"</h3>
                <p class="text-sm text-gray-400 mb-4">Calcula a qu√© precio llegar√≠a una moneda si alcanzara el Market Cap de otra.</p>
                <div class="space-y-4">
                    <div class="relative">
                        <label class="block text-sm font-medium text-gray-300" for="flip-coin-a">Si</label>
                        <input class="mt-1 w-full bg-gray-700 border border-gray-600 rounded-md p-2" data-coin-id="" id="flip-coin-a" placeholder="Ej: Cardano" type="text"/>
                        <div class="absolute z-10 w-full mt-1 bg-gray-600 border border-gray-500 rounded-lg hidden max-h-48 overflow-y-auto" id="suggestions-flip-a"></div>
                    </div>
                    <div class="relative">
                        <label class="block text-sm font-medium text-gray-300" for="flip-coin-b">Alcanzara el Market Cap de</label>
                        <input class="mt-1 w-full bg-gray-700 border border-gray-600 rounded-md p-2" data-coin-id="" id="flip-coin-b" placeholder="Ej: Ethereum" type="text"/>
                        <div class="absolute z-10 w-full mt-1 bg-gray-600 border border-gray-500 rounded-lg hidden max-h-48 overflow-y-auto" id="suggestions-flip-b"></div>
                    </div>
                </div>
                <button class="w-full mt-6 bg-cyan-500 text-white font-bold py-2 rounded-lg hover:bg-cyan-600 transition" id="calculate-flip">Calcular Proyecci√≥n</button>
                <div class="mt-4 text-center hidden" id="flip-result"></div>
            </div>
            <div class="bg-gray-800 p-6 rounded-lg border border-gray-700">
                <h3 class="text-xl font-semibold mb-4 text-white">Calculadora de Metas</h3>
                <p class="text-sm text-gray-400 mb-4">¬øQu√© Market Cap necesita tu moneda para alcanzar tu objetivo?</p>
                <div class="space-y-4">
                    <div class="flex items-center gap-2">
                        <span class="text-gray-300">Si invierto</span>
                        <input class="w-full bg-gray-700 border border-gray-600 rounded-md p-2" id="goal-initial" placeholder="1000" type="number"/>
                    </div>
                    <div class="relative">
                        <label class="block text-sm font-medium text-gray-300" for="goal-coin">en</label>
                        <input class="mt-1 w-full bg-gray-700 border border-gray-600 rounded-md p-2" data-coin-id="" id="goal-coin" placeholder="Ej: Solana" type="text"/>
                        <div class="absolute z-10 w-full mt-1 bg-gray-600 border border-gray-500 rounded-lg hidden max-h-48 overflow-y-auto" id="suggestions-goal"></div>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="text-gray-300">y quiero que se conviertan en</span>
                        <input class="w-full bg-gray-700 border border-gray-600 rounded-md p-2" id="goal-target" placeholder="10000" type="number"/>
                    </div>
                </div>
                <button class="w-full mt-6 bg-cyan-500 text-white font-bold py-2 rounded-lg hover:bg-cyan-600 transition" id="calculate-goal">Calcular Market Cap Necesario</button>
                <div class="mt-4 text-center hidden" id="goal-result"></div>
            </div>
            <div class="bg-gray-800 p-6 rounded-lg border border-gray-700">
                <h3 class="text-xl font-semibold mb-4 text-white">Calculadora de Rendimientos (Yield)</h3>
                <p class="text-sm text-gray-400 mb-4">Calcula cu√°nto podr√≠as generar en un a√±o con inter√©s simple y compuesto.</p>
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-300" for="yield-amount">Monto a invertir (USD)</label>
                        <input class="mt-1 w-full bg-gray-700 border border-gray-600 rounded-md p-2" id="yield-amount" placeholder="1000" type="number"/>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-300" for="yield-asset">Selecciona el Activo (Rendimiento %)</label>
                        <select class="mt-1 w-full bg-gray-700 border border-gray-600 rounded-md p-2 text-gray-300" id="yield-asset">
                            <option value="5">USDT/USDC (5%)</option>
                            <option value="7">Bitcoin (7%)</option>
                            <option value="8">Ethereum (8%)</option>
                            <option value="10">USDT en BingX (10%, m√°x $1000)</option>
                            <option value="14">USDC en Nexo (14%)</option>
                            <option value="7">BTC en Nexo (7%)</option>
                            <option value="8">ETH en Nexo (8%)</option>
                            <option value="5">BTC en OKX (5%)</option>
                        </select>
                    </div>
                </div>
                <button class="w-full mt-6 bg-cyan-500 text-white font-bold py-2 rounded-lg hover:bg-cyan-600 transition" id="calculate-yield">Calcular Rendimiento Anual</button>
                <div class="mt-4 text-center hidden" id="yield-result"></div>
            </div>
        </div>
    </div>
    <!-- SECCI√ìN DE CALCULADORA DE LOTAJE (FOREX) -->
    <div class="mt-16 max-w-4xl mx-auto p-6 bg-gray-800/50 rounded-xl border border-gray-700" id="forex-lot-section">
        <h2 class="text-3xl font-bold text-center mb-2 text-cyan-400">Calculadora de Lotaje (Forex)</h2>
        <p class="text-gray-400 text-center mb-8">Calcula el tama√±o de lote ideal seg√∫n tu riesgo y stop loss.</p>
        <div class="bg-gray-800 p-6 rounded-lg border border-gray-700">
            <h3 class="text-xl font-semibold mb-4 text-white">Calculadora de Lotaje</h3>
            <p class="text-sm text-gray-400 mb-4">Ingresa los detalles para obtener el tama√±o de lote recomendado.</p>
            <div class="space-y-4">
                <div>
                    <label class="text-gray-300 text-sm">Tama√±o de la cuenta (USD)</label>
                    <input class="w-full p-2 rounded bg-gray-700 border border-gray-600" id="lot-account" placeholder="Ej: 1000" type="number"/>
                </div>
                <div>
                    <label class="text-gray-300 text-sm">Riesgo por operaci√≥n (%)</label>
                    <input class="w-full p-2 rounded bg-gray-700 border border-gray-600" id="lot-risk" placeholder="Ej: 2" type="number"/>
                </div>
                <div>
                    <label class="text-gray-300 text-sm">Stop Loss (pips)</label>
                    <input class="w-full p-2 rounded bg-gray-700 border border-gray-600" id="lot-sl" placeholder="Ej: 50" type="number"/>
                </div>
                <div>
                    <label class="tooltip text-gray-300 text-sm">Valor por pip (USD)
                        <span class="tooltiptext">El valor por pip es el monto en USD que se mueve por cada pip en el par de divisas. Var√≠a seg√∫n el par (ej: 10 USD para EUR/USD est√°ndar, 1 USD para mini lotes). Consulta las especificaciones de tu broker.</span>
                    </label>
                    <input class="w-full p-2 rounded bg-gray-700 border border-gray-600" id="lot-pipvalue" placeholder="Ej: 10 para par est√°ndar" type="number"/>
                </div>
            </div>
            <button class="w-full mt-6 bg-green-500 text-white font-bold py-2 rounded-lg hover:bg-green-600 transition" id="calculate-lot">Calcular Lote</button>
            <div class="mt-4 text-center hidden" id="lot-result"></div>
        </div>
    </div>
    <!-- SECCI√ìN DE REFERIDOS -->
    <div class="mt-16 max-w-4xl mx-auto p-6 bg-gray-800/50 rounded-xl border border-gray-700" id="referrals-section">
        <h2 class="text-3xl font-bold text-center mb-2 text-cyan-400">Exchanges de Confianza</h2>
        <p class="text-gray-400 text-center mb-8">LCA opera con los siguientes exchanges, que son de nuestra confianza. Usa nuestros links para registrarte.</p>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Card BingX -->
            <div class="bg-gray-800 rounded-lg p-6 flex flex-col items-center text-center border border-gray-700">
                <img alt="BingX Logo" class="h-16 mb-4 p-1" src="https://drive.google.com/uc?export=view&id=1L5c0Wi8bB1p2TtFuW_ACS5vw7S6cJt8S"/>
                <h3 class="text-xl font-bold">BingX</h3>
                <p class="text-sm text-gray-400 mt-2 flex-grow">Ideal para operar cripto en spot, futuros y obtener rendimientos interesantes con tus stablecoins.</p>
                <a class="w-full mt-4 bg-blue-500 text-white font-bold py-2 rounded-lg hover:bg-blue-600 transition" href="https://bingx.com/en/accounts/invite/NZP9WN" rel="noopener noreferrer" target="_blank">Registrarse en BingX</a>
            </div>
            <!-- Card Bybit -->
            <div class="bg-gray-800 rounded-lg p-6 flex flex-col items-center text-center border border-gray-700">
                <img alt="Bybit Logo" class="h-16 mb-4 bg-white rounded-full p-2" src="https://drive.google.com/uc?export=view&id=1CI2-43t_37GiOyjVGOGjZKfoxwXXeago"/>
                <h3 class="text-xl font-bold">Bybit</h3>
                <p class="text-sm text-gray-400 mt-2 flex-grow">Uno de los exchanges m√°s grandes y con mayor liquidez del mercado. Excelente para trading avanzado.</p>
                <a class="w-full mt-4 bg-yellow-500 text-black font-bold py-2 rounded-lg hover:bg-yellow-600 transition" href="https://partner.bybit.com/b/lcaitech" rel="noopener noreferrer" target="_blank">Registrarse en Bybit</a>
            </div>
            <!-- Card OKX -->
            <div class="bg-gray-800 rounded-lg p-6 flex flex-col items-center text-center border border-gray-700">
                <img alt="OKX Logo" class="h-16 mb-4 bg-black rounded-full" src="https://drive.google.com/uc?export=view&id=1cm8s2DwyM7FDtI0gWba84iGIy799zkkP"/>
                <h3 class="text-xl font-bold">OKX</h3>
                <p class="text-sm text-gray-400 mt-2 flex-grow">Plataforma robusta con una amplia variedad de criptomonedas y productos de inversi√≥n.</p>
                <a class="w-full mt-4 bg-white text-black font-bold py-2 rounded-lg hover:bg-gray-200 transition" href="https://www.okx.com/join/3269705" rel="noopener noreferrer" target="_blank">Registrarse en OKX</a>
            </div>
            <!-- Card Nexo -->
            <div class="bg-gray-800 rounded-lg p-6 flex flex-col items-center text-center border border-gray-700">
                <img alt="Nexo Logo" class="h-16 mb-4 rounded-full bg-white p-2" src="https://drive.google.com/uc?export=view&id=1_Yddug7N-37vVQ8eW080_bidHRL6VLM4"/>
                <h3 class="text-xl font-bold">Nexo</h3>
                <ul class="text-sm text-gray-300 mt-2 flex-grow list-disc list-inside text-left">
                    <li>Hasta <span class="font-bold">14%</span> en USDC</li>
                    <li>Hasta <span class="font-bold">7%</span> en Bitcoin</li>
                    <li>Hasta <span class="font-bold">8%</span> en Ethereum</li>
                </ul>
                <p class="text-xs text-gray-500 mt-1">(Depositando m√°s de $5000)</p>
                <a class="w-full mt-4 bg-indigo-500 text-white font-bold py-2 rounded-lg hover:bg-indigo-600 transition" href="https://nexo.com/ref/jt1cgk3tjr?src=web-link" rel="noopener noreferrer" target="_blank">Registrarse en Nexo</a>
            </div>
        </div>
    </div>
    <!-- SECCI√ìN DE DONATIVOS -->
    <div class="mt-16 max-w-4xl mx-auto text-center p-6 bg-gray-800/50 rounded-xl border border-gray-700">
        <h2 class="text-2xl font-semibold text-green-400">Apoya el Proyecto</h2>
        <p class="text-gray-400 mt-2 mb-4 max-w-xl mx-auto">Si esta herramienta te resulta √∫til, considera hacer un donativo. Tus aportes se usar√°n para mejorar la app y a√±adir nuevas funciones.</p>
        <div class="bg-gray-900/70 p-4 rounded-lg max-w-lg mx-auto">
            <p class="text-sm text-gray-300">Direcci√≥n (BEP20, ETH, etc.):</p>
            <div class="flex items-center justify-between gap-4 mt-2">
                <code class="text-xs md:text-sm text-amber-300 break-all" id="walletAddress">0xC884b69Aab49C7928f0f6fEFd22423d641ce62db</code>
                <button class="bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-3 rounded-lg text-sm transition" id="copyButton">
                    Copiar
                </button>
            </div>
            <p class="text-green-400 text-xs mt-2 hidden" id="copy-feedback">¬°Direcci√≥n copiada!</p>
        </div>
        <p class="text-xs text-gray-500 mt-3">Red recomendada: BEP20 (BSC)</p>
    </div>
    <!-- SECCI√ìN DE FEEDBACK -->
    <div class="mt-16 max-w-4xl mx-auto text-center">
        <h2 class="text-xl font-semibold text-white">¬øEncontraste un error o tienes una sugerencia?</h2>
        <p class="text-gray-400 mt-2 mb-4">Tu feedback nos ayuda a mejorar. ¬°Cont√°ctanos directamente en nuestro Telegram!</p>
        <a class="inline-flex items-center gap-3 bg-blue-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-600 transition shadow-lg" href="https://t.me/LCAITECH_OFICIAL" rel="noopener noreferrer" target="_blank">
            <svg class="w-6 h-6" fill="currentColor" viewbox="0 0 24 24"><path d="M11.944 0A12 12 0 000 12a12 12 0 0012 12 12 12 0 0012-12A12 12 0 0011.944 0zm5.663 7.258l-1.455 6.822a.763.763 0 01-1.446.417l-2.43-1.823-1.168 1.127a.488.488 0 01-.39.155.54.54 0 01-.368-.142l.002-.001-1.89-1.72-3.79-1.422a.749.749 0 01.127-1.42l11.164-4.32a.759.759 0 01.977.91z"></path></svg>
            Reportar un Error / Feedback
        </a>
    </div>
</div>
<!-- Pie de P√°gina -->
<footer class="text-center p-4 mt-12 border-t border-gray-800">
    <p class="text-gray-500 text-sm">Proyecto creado por <strong class="font-semibold text-gray-400">LCA ITECH</strong></p>
    <div class="flex justify-center items-center space-x-6 mt-4">
        <a aria-label="Twitter" class="text-gray-400 transition-all duration-300 social-icon" href="https://x.com/LCA_ITECH" rel="noopener noreferrer" target="_blank">
            <svg class="w-6 h-6" fill="currentColor" viewbox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></svg>
        </a>
        <a aria-label="Instagram" class="text-gray-400 transition-all duration-300 social-icon" href="https://www.instagram.com/learncryptoacademy/" rel="noopener noreferrer" target="_blank">
            <svg class="w-6 h-6" fill="currentColor" viewbox="0 0 24 24"><path clip-rule="evenodd" d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.024.06 1.378.06 3.808s-.012 2.784-.06 3.808c-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.024.048-1.378.06-3.808.06s-2.784-.013-3.808-.06c-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.048-1.024-.06-1.378-.06-3.808s.012-2.784.06-3.808c.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 016.08 2.525c.636-.247 1.363-.416 2.427-.465C9.53 2.013 9.884 2 12.315 2zm-1.04 17.59c1.442 0 2.625-1.183 2.625-2.625s-1.183-2.625-2.625-2.625-2.625 1.183-2.625 2.625 1.183 2.625 2.625 2.625zm1.905-10.056a1.219 1.219 0 10-2.438 0 1.219 1.219 0 002.438 0zM12 6.845a5.455 5.455 0 100 10.91 5.455 5.455 0 000-10.91z" fill-rule="evenodd"></path></svg>
        </a>
        <a aria-label="Telegram" class="text-gray-400 transition-all duration-300 social-icon" href="https://t.me/LCAITECH_OFICIAL" rel="noopener noreferrer" target="_blank">
            <svg class="w-6 h-6" fill="currentColor" viewbox="0 0 24 24"><path d="M11.944 0A12 12 0 000 12a12 12 0 0012 12 12 12 0 0012-12A12 12 0 0011.944 0zm5.663 7.258l-1.455 6.822a.763.763 0 01-1.446.417l-2.43-1.823-1.168 1.127a.488.488 0 01-.39.155.54.54 0 01-.368-.142l.002-.001-1.89-1.72-3.79-1.422a.749.749 0 01.127-1.42l11.164-4.32a.759.759 0 01.977.91z"></path></svg>
        </a>
    </div>
    <p class="text-gray-600 text-xs mt-4">Datos de precios proporcionados por CoinGecko API.</p>
</footer>
<script>
const ui = {
    searchInput: document.getElementById('searchInput'),
    searchButton: document.getElementById('searchButton'),
    suggestions: document.getElementById('suggestions-list'),
    result: document.getElementById('result'),
    examples: document.getElementById('examples'),
    loader: document.getElementById('loader'),
    errorMessage: document.getElementById('error-message'),
    flip: {
        coinA: document.getElementById('flip-coin-a'),
        suggestionsA: document.getElementById('suggestions-flip-a'),
        coinB: document.getElementById('flip-coin-b'),
        suggestionsB: document.getElementById('suggestions-flip-b'),
        button: document.getElementById('calculate-flip'),
        result: document.getElementById('flip-result'),
    },
    goal: {
        initial: document.getElementById('goal-initial'),
        coin: document.getElementById('goal-coin'),
        suggestions: document.getElementById('suggestions-goal'),
        target: document.getElementById('goal-target'),
        button: document.getElementById('calculate-goal'),
        result: document.getElementById('goal-result'),
    },
    yield: {
        amount: document.getElementById('yield-amount'),
        asset: document.getElementById('yield-asset'),
        button: document.getElementById('calculate-yield'),
        result: document.getElementById('yield-result'),
    },
    copyButton: document.getElementById('copyButton'),
    copyFeedback: document.getElementById('copy-feedback'),
    walletAddress: document.getElementById('walletAddress')
};

const popularCoins = [
    { id: 'bitcoin', name: 'Bitcoin', logo: 'https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1696501400' },
    { id: 'ethereum', name: 'Ethereum', logo: 'https://assets.coingecko.com/coins/images/279/large/ethereum.png?1696501638' },
    { id: 'solana', name: 'Solana', logo: 'https://assets.coingecko.com/coins/images/4128/large/solana.png?1696504756' },
    { id: 'chainlink', name: 'Chainlink', logo: 'https://assets.coingecko.com/coins/images/877/large/chainlink-new-logo.png?1696502009' },
    { id: 'polkadot', name: 'Polkadot', logo: 'https://assets.coingecko.com/coins/images/12171/large/polkadot.png?1696512008' },
    { id: 'binancecoin', name: 'BNB', logo: 'https://assets.coingecko.com/coins/images/825/large/bnb-icon2_2x.png?1696501970' },
    { id: 'dogecoin', name: 'Dogecoin', logo: 'https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1696501409' },
    { id: 'shiba-inu', name: 'Shiba Inu', logo: 'https://assets.coingecko.com/coins/images/11939/large/shiba.png?1696511800' },
    { id: 'ripple', name: 'XRP', logo: 'https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1696501442' },
    { id: 'uniswap', name: 'Uniswap', logo: 'https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1696512319' }
];

let coinList = [];
let searchTimeout;

const uiState = {
    show: (element) => element.classList.remove('hidden'),
    hide: (element) => element.classList.add('hidden'),
    showError: (message, el = ui.errorMessage) => {
        el.textContent = message;
        uiState.show(el);
    },
    hideError: (el = ui.errorMessage) => uiState.hide(el),
    showLoader: () => {
        uiState.show(ui.loader);
        uiState.hide(ui.result);
        uiState.hideError();
    },
    hideLoader: () => uiState.hide(ui.loader),
};

async function getCoinList() {
    if (coinList.length > 0) return;
    try {
        const response = await fetch('https://api.coingecko.com/api/v3/coins/list?include_platform=false');
        if (!response.ok) throw new Error(`Error en la API: ${response.status} - ${response.statusText}`);
        coinList = await response.json();
        console.log("Lista de monedas cargada:", coinList.length);
    } catch (error) {
        console.error("Error al obtener la lista de monedas:", error);
        uiState.showError("No se pudo cargar la lista de monedas desde CoinGecko. Intenta de nuevo m√°s tarde.");
    }
}

async function showSuggestions(query, inputElement, containerElement) {
    if (!coinList.length) await getCoinList();
    
    const queryLower = query.toLowerCase().trim();
    if (queryLower.length < 1) {
        uiState.hide(containerElement);
        return;
    }

    const filteredCoins = coinList
        .map(coin => {
            const nameLower = coin.name.toLowerCase();
            const symbolLower = coin.symbol.toLowerCase();
            let score = 0;
            if (symbolLower === queryLower) {
                score = 100; // Coincidencia exacta del s√≠mbolo
            } else if (nameLower === queryLower) {
                score = 90; // Coincidencia exacta del nombre
            } else if (symbolLower.startsWith(queryLower)) {
                score = 80; // S√≠mbolo comienza con la consulta
            } else if (nameLower.startsWith(queryLower)) {
                score = 70; // Nombre comienza con la consulta
            } else if (symbolLower.includes(queryLower)) {
                score = 60; // S√≠mbolo contiene la consulta
            } else if (nameLower.includes(queryLower)) {
                score = 50; // Nombre contiene la consulta
            }
            return { ...coin, score };
        })
        .filter(coin => coin.score > 0)
        .sort((a, b) => b.score - a.score);

    containerElement.innerHTML = '';
    if (filteredCoins.length > 0) {
        filteredCoins.slice(0, 5).forEach(coin => {
            const div = document.createElement('div');
            div.className = "px-4 py-2 hover:bg-gray-700 cursor-pointer";
            div.textContent = `${coin.name} (${coin.symbol.toUpperCase()})`;
            div.onclick = () => {
                inputElement.value = coin.name;
                inputElement.dataset.coinId = coin.id;
                uiState.hide(containerElement);
                fetchMainCoinData(coin.id); // Busca autom√°ticamente al seleccionar
            };
            containerElement.appendChild(div);
        });
        uiState.show(containerElement);
    } else {
        uiState.hide(containerElement);
    }
}
    
async function getCoinDataById(coinId, maxRetries = 2) {
    if (!coinId) return null;
    for (let attempt = 0; attempt < maxRetries; attempt++) {
        try {
            const url = `https://api.coingecko.com/api/v3/coins/${coinId}?localization=false&tickers=false&market_data=true&community_data=false&developer_data=false`;
            const response = await fetch(url);
            if (!response.ok) {
                console.warn(`Intento ${attempt + 1} fallido para ${coinId}: ${response.status} - ${response.statusText}`);
                if (attempt < maxRetries - 1 && response.status === 429) {
                    await new Promise(resolve => setTimeout(resolve, 2000 * (attempt + 1))); // Espera 2s, 4s, etc.
                    continue;
                }
                return null;
            }
            const data = await response.json();
            console.log(`Datos crudos para ${coinId}:`, data); // Depuraci√≥n detallada
            return data;
        } catch (error) {
            console.error(`Error fetching ${coinId} (intento ${attempt + 1}):`, error);
            if (attempt < maxRetries - 1) {
                await new Promise(resolve => setTimeout(resolve, 2000 * (attempt + 1)));
                continue;
            }
            return null;
        }
    }
    return null;
}

async function fetchMainCoinData(coinId) {
    uiState.showLoader();
    const data = await getCoinDataById(coinId);
    if (data) {
        calculateAndDisplay(data);
    } else {
        uiState.showError("No se pudieron obtener los datos para la moneda seleccionada. Verifica la conexi√≥n o intenta otra moneda.");
        uiState.hideLoader();
    }
}
    
async function triggerSearch() {
    const query = ui.searchInput.value.toLowerCase().trim();
    if (query.length === 0) return;
    
    if (!coinList.length) await getCoinList();

    const bestMatch = coinList.find(coin => 
        coin.name.toLowerCase() === query || 
        coin.symbol.toLowerCase() === query || 
        coin.name.toLowerCase().includes(query) || 
        coin.symbol.toLowerCase().includes(query)
    );

    if (bestMatch) {
        uiState.hide(ui.suggestions);
        ui.searchInput.value = '';
        fetchMainCoinData(bestMatch.id);
    } else {
        uiState.showError(`No se encontr√≥ una moneda que coincida con "${query}". Intenta con otro nombre o s√≠mbolo.`);
    }
}

function calculateAndDisplay(data) {
    try {
        const { market_data: md = {}, name = 'Desconocido', symbol = 'UNK', image = { large: '' } } = data;
        const athPrice = md.ath?.usd || 0;
        const currentSupply = md.circulating_supply || 0;
        const currentMarketCap = md.market_cap?.usd || 0;
        const currentPrice = md.current_price?.usd || 0;
        const athDate = md.ath_date?.usd ? new Date(md.ath_date.usd).toLocaleDateString('es-ES') : 'N/A';

        if (currentSupply <= 0 || currentPrice <= 0) {
            throw new Error("Datos insuficientes para calcular el ATH. Supply o precio inv√°lidos.");
        }

        const requiredMarketCap = (athPrice > 0) ? athPrice * currentSupply : currentMarketCap;
        const percentageIncrease = (currentMarketCap > 0 && athPrice > 0) ? ((requiredMarketCap / currentMarketCap) - 1) * 100 : 0;

        displayResult({
            name, symbol: symbol.toUpperCase(), image: image.large,
            athPrice, athDate, currentPrice, currentMarketCap,
            requiredMarketCap, percentageIncrease
        });
        uiState.hideLoader();
    } catch (error) {
        console.error("Error al calcular:", error);
        uiState.showError(`No se pudieron procesar los datos para ${data.name || 'la moneda'}. Mostrando datos parciales si est√°n disponibles.`);
        displayPartialResult(data);
        uiState.hideLoader();
    }
}

function displayResult(data) {
    const { name, symbol, image, athPrice, currentPrice, athDate, currentMarketCap, requiredMarketCap, percentageIncrease } = data;
    const increaseColor
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script>
function shareProjectionAsImage() {
    const node = document.getElementById('result');
    html2canvas(node, { scale: 2 }).then(canvas => {
        const img = canvas.toDataURL("image/png");
        const link = document.createElement('a');
        link.href = img;
        link.download = 'proyeccion_LCA.png';
        link.click();
    });
}
</script>
</body>
</html>