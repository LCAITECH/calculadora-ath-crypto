<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de ATH Realista y Comparativa Financiera</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #111827; /* bg-gray-900 */
        }
        .loader {
            border-top-color: #22d3ee; /* cyan-400 */
            -webkit-animation: spinner 1.5s linear infinite;
            animation: spinner 1.5s linear infinite;
        }
        @-webkit-keyframes spinner {
            0% { -webkit-transform: rotate(0deg); }
            100% { -webkit-transform: rotate(360deg); }
        }
        @keyframes spinner {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .social-icon:hover {
            transform: scale(1.15);
            color: #22d3ee; /* cyan-400 */
        }
    </style>
</head>
<body class="bg-gray-900 text-white">

    <div class="container mx-auto p-4 md:p-8">
        <!-- Encabezado -->
        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-cyan-400 mb-2">Calculadora de ATH Realista</h1>
            <p class="text-gray-400 max-w-2xl mx-auto">¬øPuede tu altcoin volver a su m√°ximo hist√≥rico? Esta herramienta calcula el market cap necesario considerando la inflaci√≥n de tokens.</p>
        </header>

        <!-- Barra de B√∫squeda -->
        <div class="max-w-xl mx-auto mb-8">
            <div class="relative flex gap-2">
                <input type="text" id="searchInput" class="w-full bg-gray-800 border-2 border-gray-700 text-white rounded-lg px-4 py-3 focus:outline-none focus:border-cyan-500 transition-colors" placeholder="Busca una criptomoneda (ej: Kusama, Movr)...">
                <button id="searchButton" class="bg-cyan-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-cyan-600 transition">Buscar</button>
            </div>
             <div id="suggestions-container" class="relative w-full">
                <div id="suggestions-list" class="absolute z-20 w-full mt-1 bg-gray-800 border border-gray-700 rounded-lg hidden max-h-60 overflow-y-auto"></div>
             </div>
             <p id="error-message" class="text-red-400 text-sm mt-2 text-center hidden"></p>
        </div>
        
        <!-- Indicador de Carga Principal -->
        <div id="loader" class="loader ease-linear rounded-full border-8 border-t-8 border-gray-700 h-16 w-16 mx-auto my-8 hidden"></div>

        <!-- Contenedor de Resultados -->
        <div id="result" class="hidden">
            <!-- La tarjeta de resultados se insertar√° aqu√≠ din√°micamente -->
        </div>

        <!-- Secci√≥n de Ejemplos -->
        <div class="mt-12 max-w-4xl mx-auto">
            <h2 class="text-2xl font-semibold text-center mb-6">Ejemplos Populares</h2>
            <div id="examples" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4">
                <!-- Los botones con logos se insertar√°n aqu√≠ -->
            </div>
        </div>

        <!-- SECCI√ìN COMPARATIVA -->
        <div id="comparison-section" class="mt-16 max-w-4xl mx-auto p-6 bg-gray-800/50 rounded-xl border border-gray-700">
             <h2 class="text-3xl font-bold text-center mb-2 text-green-400">Finanzas Tradicionales vs. Cripto: ¬øPor qu√© conviene? üöÄüí∞</h2>
             <p class="text-gray-400 text-center mb-8">¬øD√≥nde rinde m√°s tu dinero? Una comparativa directa.</p>
             <div class="mb-8">
                 <h3 class="text-2xl font-semibold mb-4 text-white">1. Rendimientos: Plazo Fijo en USD vs. Stablecoins</h3>
                 <div class="overflow-x-auto">
                    <table class="w-full text-sm text-left text-gray-400">
                        <thead class="text-xs text-cyan-300 uppercase bg-gray-700/50">
                            <tr>
                                <th scope="col" class="px-6 py-3">Caracter√≠stica</th>
                                <th scope="col" class="px-6 py-3">Plazo Fijo Bancario (TradFi)</th>
                                <th scope="col" class="px-6 py-3">Rendimientos en USDT/USDC (Cripto)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="border-b border-gray-700">
                                <th scope="row" class="px-6 py-4 font-medium text-white whitespace-nowrap">Rendimiento Anual (APY)</th>
                                <td class="px-6 py-4">~0.1% a 3.5% en LATAM.</td>
                                <td class="px-6 py-4 font-bold text-green-400">~5% a 15% o m√°s.</td>
                            </tr>
                            <tr class="border-b border-gray-700">
                                <th scope="row" class="px-6 py-4 font-medium text-white whitespace-nowrap">Flexibilidad</th>
                                <td class="px-6 py-4">Bloqueado. Retirar antes implica perder intereses.</td>
                                <td class="px-6 py-4">Total. Retiro en cualquier momento sin penalizaci√≥n.</td>
                            </tr>
                            <tr>
                                <th scope="row" class="px-6 py-4 font-medium text-white whitespace-nowrap">Acceso</th>
                                <td class="px-6 py-4">Requiere ser cliente, cumplir requisitos y montos m√≠nimos.</td>
                                <td class="px-6 py-4">Abierto a cualquier persona con una wallet. Puedes empezar con 1 d√≥lar.</td>
                            </tr>
                        </tbody>
                    </table>
                 </div>
             </div>
              <div class="mb-8">
                 <h3 class="text-2xl font-semibold mb-4 text-white">2. Acceso al Cr√©dito: Pr√©stamos Bancarios vs. DeFi</h3>
                 <div class="overflow-x-auto">
                    <table class="w-full text-sm text-left text-gray-400">
                        <thead class="text-xs text-cyan-300 uppercase bg-gray-700/50">
                            <tr>
                                <th scope="col" class="px-6 py-3">Caracter√≠stica</th>
                                <th scope="col" class="px-6 py-3">Pr√©stamo Bancario (TradFi)</th>
                                <th scope="col" class="px-6 py-3">Pr√©stamo Descentralizado (DeFi)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="border-b border-gray-700">
                                <th scope="row" class="px-6 py-4 font-medium text-white whitespace-nowrap">Requisitos</th>
                                <td class="px-6 py-4">Historial crediticio, demostraci√≥n de ingresos, papeleo, etc.</td>
                                <td class="px-6 py-4">Tener criptomonedas como colateral. Nada m√°s.</td>
                            </tr>
                             <tr class="border-b border-gray-700">
                                <th scope="row" class="px-6 py-4 font-medium text-white whitespace-nowrap">Proceso</th>
                                <td class="px-6 py-4">D√≠as o semanas de espera para aprobaci√≥n.</td>
                                <td class="px-6 py-4 font-bold text-green-400">En minutos, conectando tu wallet.</td>
                            </tr>
                            <tr>
                                <th scope="row" class="px-6 py-4 font-medium text-white whitespace-nowrap">Incentivos</th>
                                <td class="px-6 py-4">Ninguno.</td>
                                <td class="px-6 py-4">A menudo recibes recompensas en tokens por participar.</td>
                            </tr>
                        </tbody>
                    </table>
                 </div>
             </div>
             <div>
                <h3 class="text-2xl font-semibold mb-4 text-white">3. Poder Adquisitivo: D√≥lar vs. Bitcoin</h3>
                <p class="text-gray-400 mb-4">¬øQu√© se pod√≠a comprar con el mismo valor inicial a lo largo del tiempo?</p>
                <div class="space-y-6">
                    <!-- 2010 -->
                    <div class="p-4 rounded-lg bg-gray-700/50">
                        <p class="font-bold text-lg">2010</p>
                        <div class="mt-2 flex items-center gap-4">
                            <div class="flex-shrink-0 w-1/4 text-center font-bold">$$$</div>
                            <p class="text-sm flex-grow">Con ~$40 se compraban un par de pizzas grandes.</p>
                        </div>
                        <div class="mt-2 flex items-center gap-4">
                             <div class="flex-shrink-0 w-1/4 text-center flex items-center justify-center">
                                <img src="https://assets.coingecko.com/coins/images/1/thumb/bitcoin.png?1696501400" class="h-5 w-5" alt="Bitcoin"><img src="https://assets.coingecko.com/coins/images/1/thumb/bitcoin.png?1696501400" class="h-5 w-5 -ml-2" alt="Bitcoin"><img src="https://assets.coingecko.com/coins/images/1/thumb/bitcoin.png?1696501400" class="h-5 w-5 -ml-2" alt="Bitcoin">
                                <strong class="ml-1">10.000</strong>
                             </div>
                            <p class="text-sm flex-grow">Con 10.000 BTC se compraban... un par de pizzas grandes.</p>
                        </div>
                    </div>
                    <!-- 2017 -->
                    <div class="p-4 rounded-lg bg-gray-700/50">
                        <p class="font-bold text-lg">2017</p>
                        <div class="mt-2 flex items-center gap-4">
                            <div class="flex-shrink-0 w-1/4 text-center font-bold">$$</div>
                             <p class="text-sm flex-grow">Con ~$20.000 se compraba un auto nuevo.</p>
                        </div>
                        <div class="mt-2 flex items-center gap-4">
                             <div class="flex-shrink-0 w-1/4 text-center flex items-center justify-center">
                                <img src="https://assets.coingecko.com/coins/images/1/thumb/bitcoin.png?1696501400" class="h-5 w-5" alt="Bitcoin"><img src="https://assets.coingecko.com/coins/images/1/thumb/bitcoin.png?1696501400" class="h-5 w-5 -ml-2" alt="Bitcoin">
                                <strong class="ml-1">~1</strong>
                            </div>
                            <p class="text-sm flex-grow text-green-400">Con ~1 BTC te comprabas el mismo auto nuevo.</p>
                        </div>
                    </div>
                     <!-- Hoy -->
                    <div class="p-4 rounded-lg bg-gray-700/50">
                        <p class="font-bold text-lg">Hoy</p>
                        <div class="mt-2 flex items-center gap-4">
                            <div class="flex-shrink-0 w-1/4 text-center font-bold">$</div>
                            <p class="text-sm flex-grow">Con ~$70.000 se compra un auto de gama alta.</p>
                        </div>
                        <div class="mt-2 flex items-center gap-4">
                            <div class="flex-shrink-0 w-1/4 text-center flex items-center justify-center">
                                <img src="https://assets.coingecko.com/coins/images/1/thumb/bitcoin.png?1696501400" class="h-5 w-5" alt="Bitcoin">
                                <strong class="ml-1">1</strong>
                             </div>
                            <p class="text-sm flex-grow text-green-400">Con 1 BTC te compras el mismo auto y te sobra para una casa.</p>
                        </div>
                    </div>
                </div>
             </div>
        </div>
        
        <!-- SECCI√ìN DE PROYECCIONES AVANZADAS -->
        <div id="advanced-section" class="mt-16 max-w-6xl mx-auto p-6 bg-gray-800/50 rounded-xl border border-gray-700">
             <h2 class="text-3xl font-bold text-center mb-2 text-cyan-400">Calculadora de Proyecciones Avanzadas</h2>
             <p class="text-gray-400 text-center mb-8">Calcula escenarios hipot√©ticos y el potencial real de tus inversiones.</p>
             <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Calculadora de Flippening -->
                <div class="bg-gray-800 p-6 rounded-lg border border-gray-700">
                    <h3 class="text-xl font-semibold mb-4 text-white">Simulador de "Flippening"</h3>
                    <p class="text-sm text-gray-400 mb-4">Calcula a qu√© precio llegar√≠a una moneda si alcanzara el Market Cap de otra.</p>
                    <div class="space-y-4">
                        <div class="relative">
                            <label for="flip-coin-a" class="block text-sm font-medium text-gray-300">Si</label>
                            <input type="text" id="flip-coin-a" data-coin-id="" class="mt-1 w-full bg-gray-700 border border-gray-600 rounded-md p-2" placeholder="Ej: Cardano">
                            <div id="suggestions-flip-a" class="absolute z-10 w-full mt-1 bg-gray-600 border border-gray-500 rounded-lg hidden max-h-48 overflow-y-auto"></div>
                        </div>
                        <div class="relative">
                           <label for="flip-coin-b" class="block text-sm font-medium text-gray-300">Alcanzara el Market Cap de</label>
                           <input type="text" id="flip-coin-b" data-coin-id="" class="mt-1 w-full bg-gray-700 border border-gray-600 rounded-md p-2" placeholder="Ej: Ethereum">
                           <div id="suggestions-flip-b" class="absolute z-10 w-full mt-1 bg-gray-600 border border-gray-500 rounded-lg hidden max-h-48 overflow-y-auto"></div>
                        </div>
                    </div>
                    <button id="calculate-flip" class="w-full mt-6 bg-cyan-500 text-white font-bold py-2 rounded-lg hover:bg-cyan-600 transition">Calcular Proyecci√≥n</button>
                    <div id="flip-result" class="mt-4 text-center hidden"></div>
                </div>

                <!-- Calculadora de Metas de Inversi√≥n -->
                 <div class="bg-gray-800 p-6 rounded-lg border border-gray-700">
                    <h3 class="text-xl font-semibold mb-4 text-white">Calculadora de Metas</h3>
                    <p class="text-sm text-gray-400 mb-4">¬øQu√© Market Cap necesita tu moneda para alcanzar tu objetivo?</p>
                    <div class="space-y-4">
                         <div class="flex items-center gap-2">
                             <span class="text-gray-300">Si invierto</span>
                            <input type="number" id="goal-initial" class="w-full bg-gray-700 border border-gray-600 rounded-md p-2" placeholder="1000">
                        </div>
                         <div class="relative">
                             <label for="goal-coin" class="block text-sm font-medium text-gray-300">en</label>
                            <input type="text" id="goal-coin" data-coin-id="" class="mt-1 w-full bg-gray-700 border border-gray-600 rounded-md p-2" placeholder="Ej: Solana">
                             <div id="suggestions-goal" class="absolute z-10 w-full mt-1 bg-gray-600 border border-gray-500 rounded-lg hidden max-h-48 overflow-y-auto"></div>
                        </div>
                        <div class="flex items-center gap-2">
                           <span class="text-gray-300">y quiero que se conviertan en</span>
                           <input type="number" id="goal-target" class="w-full bg-gray-700 border border-gray-600 rounded-md p-2" placeholder="10000">
                        </div>
                    </div>
                    <button id="calculate-goal" class="w-full mt-6 bg-cyan-500 text-white font-bold py-2 rounded-lg hover:bg-cyan-600 transition">Calcular Market Cap Necesario</button>
                    <div id="goal-result" class="mt-4 text-center hidden"></div>
                </div>

                 <!-- Calculadora de Rendimientos -->
                <div class="bg-gray-800 p-6 rounded-lg border border-gray-700 md:col-span-2 lg:col-span-1">
                    <h3 class="text-xl font-semibold mb-4 text-white">Calculadora de Rendimientos (Yield)</h3>
                    <p class="text-sm text-gray-400 mb-4">Calcula cu√°nto podr√≠as generar en un a√±o con inter√©s simple y compuesto.</p>
                    <div class="space-y-4">
                        <div>
                           <label for="yield-amount" class="block text-sm font-medium text-gray-300">Monto a Invertir (USD)</label>
                           <input type="number" id="yield-amount" class="mt-1 w-full bg-gray-700 border border-gray-600 rounded-md p-2" placeholder="1000">
                        </div>
                        <div>
                            <label for="yield-asset" class="block text-sm font-medium text-gray-300">Selecciona el Activo</label>
                            <select id="yield-asset" class="mt-1 w-full bg-gray-700 border border-gray-600 rounded-md p-2">
                                <option value="8">USDT / USDC (Rendimiento Promedio: 8% APY)</option>
                                <option value="6">Solana (Staking Promedio: 6% APY)</option>
                                <option value="4">Ethereum (Staking Promedio: 4% APY)</option>
                                <option value="2">Bitcoin (Rendimiento Promedio: 2% APY)</option>
                            </select>
                        </div>
                    </div>
                    <button id="calculate-yield" class="w-full mt-6 bg-cyan-500 text-white font-bold py-2 rounded-lg hover:bg-cyan-600 transition">Calcular Rendimiento Anual</button>
                    <div id="yield-result" class="mt-4 text-center hidden"></div>
                </div>
             </div>
        </div>

        <!-- SECCI√ìN DE REFERIDOS -->
        <div id="referrals-section" class="mt-16 max-w-4xl mx-auto p-6 bg-gray-800/50 rounded-xl border border-gray-700">
            <h2 class="text-3xl font-bold text-center mb-2 text-cyan-400">Exchanges de Confianza</h2>
            <p class="text-gray-400 text-center mb-8">LCA opera con los siguientes exchanges, que son de nuestra confianza. Usa nuestros links para registrarte.</p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Card BingX -->
                <div class="bg-gray-800 rounded-lg p-6 flex flex-col items-center text-center border border-gray-700">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/5/57/BingX_logo.svg" alt="BingX Logo" class="h-16 mb-4 p-1">
                    <h3 class="text-xl font-bold">BingX</h3>
                    <p class="text-sm text-gray-400 mt-2 flex-grow">Ideal para operar cripto en spot, futuros y obtener rendimientos interesantes con tus stablecoins.</p>
                    <a href="https://bingx.com/en/accounts/invite/NZP9WN" target="_blank" rel="noopener noreferrer" class="w-full mt-4 bg-blue-500 text-white font-bold py-2 rounded-lg hover:bg-blue-600 transition">Registrarse en BingX</a>
                </div>
                <!-- Card Bybit -->
                <div class="bg-gray-800 rounded-lg p-6 flex flex-col items-center text-center border border-gray-700">
                     <img src="https://seeklogo.com/images/B/bybit-logo-5714F13AFB-seeklogo.com.png" alt="Bybit Logo" class="h-16 mb-4 bg-white rounded-full p-2">
                    <h3 class="text-xl font-bold">Bybit</h3>
                    <p class="text-sm text-gray-400 mt-2 flex-grow">Uno de los exchanges m√°s grandes y con mayor liquidez del mercado. Excelente para trading avanzado.</p>
                    <a href="https://partner.bybit.com/b/lcaitech" target="_blank" rel="noopener noreferrer" class="w-full mt-4 bg-yellow-500 text-black font-bold py-2 rounded-lg hover:bg-yellow-600 transition">Registrarse en Bybit</a>
                </div>
                 <!-- Card OKX -->
                <div class="bg-gray-800 rounded-lg p-6 flex flex-col items-center text-center border border-gray-700">
                    <img src="https://static.okx.com/cdn/assets/imgs/226/5195DA6E2CF341A8.png" alt="OKX Logo" class="h-16 mb-4 bg-black rounded-full">
                    <h3 class="text-xl font-bold">OKX</h3>
                    <p class="text-sm text-gray-400 mt-2 flex-grow">Plataforma robusta con una amplia variedad de criptomonedas y productos de inversi√≥n.</p>
                    <a href="https://www.okx.com/join/3269705" target="_blank" rel="noopener noreferrer" class="w-full mt-4 bg-white text-black font-bold py-2 rounded-lg hover:bg-gray-200 transition">Registrarse en OKX</a>
                </div>
                <!-- Card Nexo -->
                <div class="bg-gray-800 rounded-lg p-6 flex flex-col items-center text-center border border-gray-700">
                    <img src="https://cryptologos.cc/logos/nexo-nexo-logo.svg?v=032" alt="Nexo Logo" class="h-16 mb-4 rounded-full bg-white p-2">
                    <h3 class="text-xl font-bold">Nexo</h3>
                    <ul class="text-sm text-gray-300 mt-2 flex-grow list-disc list-inside text-left">
                        <li>Hasta <span class="font-bold">14%</span> en USDC</li>
                        <li>Hasta <span class="font-bold">7%</span> en Bitcoin</li>
                        <li>Hasta <span class="font-bold">8%</span> en Ethereum</li>
                    </ul>
                     <p class="text-xs text-gray-500 mt-1">(Depositando m√°s de $5000)</p>
                    <a href="https://nexo.com/ref/jt1cgk3tjr?src=web-link" target="_blank" rel="noopener noreferrer" class="w-full mt-4 bg-indigo-500 text-white font-bold py-2 rounded-lg hover:bg-indigo-600 transition">Registrarse en Nexo</a>
                </div>
            </div>
        </div>

        <!-- SECCI√ìN DE DONATIVOS -->
        <div class="mt-16 max-w-4xl mx-auto text-center p-6 bg-gray-800/50 rounded-xl border border-gray-700">
             <h2 class="text-2xl font-semibold text-green-400">Apoya el Proyecto</h2>
             <p class="text-gray-400 mt-2 mb-4 max-w-xl mx-auto">Si esta herramienta te resulta √∫til, considera hacer un donativo. Tus aportes se usar√°n para mejorar la app y a√±adir nuevas funciones.</p>
             <div class="bg-gray-900/70 p-4 rounded-lg max-w-lg mx-auto">
                <p class="text-sm text-gray-300">Direcci√≥n (BEP20, ETH, etc.):</p>
                <div class="flex items-center justify-between gap-4 mt-2">
                    <code id="walletAddress" class="text-xs md:text-sm text-amber-300 break-all">0xC884b69Aab49C7928f0f6fEFd22423d641ce62db</code>
                    <button id="copyButton" class="bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-3 rounded-lg text-sm transition">
                        Copiar
                    </button>
                </div>
                <p id="copy-feedback" class="text-green-400 text-xs mt-2 hidden">¬°Direcci√≥n copiada!</p>
             </div>
             <p class="text-xs text-gray-500 mt-3">Red recomendada: BEP20 (BSC)</p>
        </div>

        <!-- SECCI√ìN DE FEEDBACK -->
        <div class="mt-16 max-w-4xl mx-auto text-center">
            <h2 class="text-xl font-semibold text-white">¬øEncontraste un error o tienes una sugerencia?</h2>
            <p class="text-gray-400 mt-2 mb-4">Tu feedback nos ayuda a mejorar. ¬°Cont√°ctanos directamente en nuestro Telegram!</p>
            <a href="https://t.me/LCAITECH_OFICIAL" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-3 bg-blue-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-600 transition shadow-lg">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M11.944 0A12 12 0 000 12a12 12 0 0012 12 12 12 0 0012-12A12 12 0 0011.944 0zm5.663 7.258l-1.455 6.822a.763.763 0 01-1.446.417l-2.43-1.823-1.168 1.127a.488.488 0 01-.39.155.54.54 0 01-.368-.142l.002-.001-1.89-1.72-3.79-1.422a.749.749 0 01.127-1.42l11.164-4.32a.759.759 0 01.977.91z"/></svg>
                Reportar un Error / Feedback
            </a>
        </div>
    </div>

    <!-- Pie de P√°gina -->
    <footer class="text-center p-4 mt-12 border-t border-gray-800">
        <p class="text-gray-500 text-sm">Proyecto creado por <strong class="font-semibold text-gray-400">LCA ITECH</strong></p>
        <div class="flex justify-center items-center space-x-6 mt-4">
            <a href="https://x.com/LCA_ITECH" target="_blank" rel="noopener noreferrer" class="text-gray-400 transition-all duration-300 social-icon" aria-label="Twitter">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
            </a>
            <a href="https://www.instagram.com/learncryptoacademy/" target="_blank" rel="noopener noreferrer" class="text-gray-400 transition-all duration-300 social-icon" aria-label="Instagram">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.024.06 1.378.06 3.808s-.012 2.784-.06 3.808c-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.024.048-1.378.06-3.808.06s-2.784-.013-3.808-.06c-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.048-1.024-.06-1.378-.06-3.808s.012-2.784.06-3.808c.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 016.08 2.525c.636-.247 1.363-.416 2.427-.465C9.53 2.013 9.884 2 12.315 2zm-1.04 17.59c1.442 0 2.625-1.183 2.625-2.625s-1.183-2.625-2.625-2.625-2.625 1.183-2.625 2.625 1.183 2.625 2.625 2.625zm1.905-10.056a1.219 1.219 0 10-2.438 0 1.219 1.219 0 002.438 0zM12 6.845a5.455 5.455 0 100 10.91 5.455 5.455 0 000-10.91z" clip-rule="evenodd"/></svg>
            </a>
            <a href="https://t.me/LCAITECH_OFICIAL" target="_blank" rel="noopener noreferrer" class="text-gray-400 transition-all duration-300 social-icon" aria-label="Telegram">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M11.944 0A12 12 0 000 12a12 12 0 0012 12 12 12 0 0012-12A12 12 0 0011.944 0zm5.663 7.258l-1.455 6.822a.763.763 0 01-1.446.417l-2.43-1.823-1.168 1.127a.488.488 0 01-.39.155.54.54 0 01-.368-.142l.002-.001-1.89-1.72-3.79-1.422a.749.749 0 01.127-1.42l11.164-4.32a.759.759 0 01.977.91z"/></svg>
            </a>
        </div>
        <p class="text-gray-600 text-xs mt-4">Datos de precios proporcionados por CoinGecko API.</p>
    </footer>

    <script>
       const ui = {
            searchInput: document.getElementById('searchInput'),
            searchButton: document.getElementById('searchButton'),
            suggestions: document.getElementById('suggestions-list'),
            result: document.getElementById('result'),
            examples: document.getElementById('examples'),
            loader: document.getElementById('loader'),
            errorMessage: document.getElementById('error-message'),
            flip: {
                coinA: document.getElementById('flip-coin-a'),
                suggestionsA: document.getElementById('suggestions-flip-a'),
                coinB: document.getElementById('flip-coin-b'),
                suggestionsB: document.getElementById('suggestions-flip-b'),
                button: document.getElementById('calculate-flip'),
                result: document.getElementById('flip-result'),
            },
            goal: {
                initial: document.getElementById('goal-initial'),
                coin: document.getElementById('goal-coin'),
                suggestions: document.getElementById('suggestions-goal'),
                target: document.getElementById('goal-target'),
                button: document.getElementById('calculate-goal'),
                result: document.getElementById('goal-result'),
            },
            yield: {
                amount: document.getElementById('yield-amount'),
                asset: document.getElementById('yield-asset'),
                button: document.getElementById('calculate-yield'),
                result: document.getElementById('yield-result'),
            },
            copyButton: document.getElementById('copyButton'),
            copyFeedback: document.getElementById('copy-feedback'),
            walletAddress: document.getElementById('walletAddress')
        };

        const popularCoins = [
            { id: 'bitcoin', name: 'Bitcoin', logo: 'https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1696501400' },
            { id: 'ethereum', name: 'Ethereum', logo: 'https://assets.coingecko.com/coins/images/279/large/ethereum.png?1696501638' },
            { id: 'solana', name: 'Solana', logo: 'https://assets.coingecko.com/coins/images/4128/large/solana.png?1696504756' },
            { id: 'chainlink', name: 'Chainlink', logo: 'https://assets.coingecko.com/coins/images/877/large/chainlink-new-logo.png?1696502009' },
            { id: 'polkadot', name: 'Polkadot', logo: 'https://assets.coingecko.com/coins/images/12171/large/polkadot.png?1696512008' },
            { id: 'binancecoin', name: 'BNB', logo: 'https://assets.coingecko.com/coins/images/825/large/bnb-icon2_2x.png?1696501970' },
            { id: 'dogecoin', name: 'Dogecoin', logo: 'https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1696501409' },
            { id: 'shiba-inu', name: 'Shiba Inu', logo: 'https://assets.coingecko.com/coins/images/11939/large/shiba.png?1696511800' },
            { id: 'ripple', name: 'XRP', logo: 'https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1696501442' },
            { id: 'uniswap', name: 'Uniswap', logo: 'https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png?1696512319' }
        ];
        
        let coinList = [];
        let searchTimeout;

        const uiState = {
            show: (element) => element.classList.remove('hidden'),
            hide: (element) => element.classList.add('hidden'),
            showError: (message, el = ui.errorMessage) => {
                el.textContent = message;
                uiState.show(el);
            },
            hideError: (el = ui.errorMessage) => uiState.hide(el),
            showLoader: () => {
                uiState.show(ui.loader);
                uiState.hide(ui.result);
                uiState.hideError();
            },
            hideLoader: () => uiState.hide(ui.loader),
        };

        async function getCoinList() {
            if (coinList.length > 0) return;
            try {
                const response = await fetch('https://api.coingecko.com/api/v3/coins/list?include_platform=false');
                if (!response.ok) throw new Error('No se pudo cargar la lista de monedas.');
                 coinList = await response.json();
            } catch (error) {
                console.error("Error al obtener la lista de monedas:", error);
                uiState.showError("No se pudo cargar la lista inicial de monedas. La b√∫squeda puede no funcionar.");
            }
        }

        async function showSuggestions(query, inputElement, containerElement) {
            if (!coinList.length) await getCoinList();
            
             const queryLower = query.toLowerCase();
            const filteredCoins = coinList
                .map(coin => {
                    const nameLower = coin.name.toLowerCase();
                    const symbolLower = coin.symbol.toLowerCase();
                    let score = 0;
                    if (symbolLower === queryLower) {
                        score = 100;
                    } else if (nameLower === queryLower) {
                        score = 90;
                    } else if (nameLower.startsWith(queryLower)) {
                        score = 50;
                    } else if (symbolLower.startsWith(queryLower)) {
                        score = 40;
                    } else if (nameLower.includes(queryLower)) {
                        score = 10;
                    }
                    return { ...coin, score };
                })
                .filter(coin => coin.score > 0)
                .sort((a, b) => b.score - a.score);

            containerElement.innerHTML = '';
            if (filteredCoins.length > 0) {
                filteredCoins.slice(0, 5).forEach(coin => {
                    const div = document.createElement('div');
                    div.className = "px-4 py-2 hover:bg-gray-700 cursor-pointer";
                    div.textContent = `${coin.name} (${coin.symbol.toUpperCase()})`;
                    div.onclick = () => {
                        inputElement.value = coin.name;
                        inputElement.dataset.coinId = coin.id;
                        uiState.hide(containerElement);
                    };
                    containerElement.appendChild(div);
                });
                uiState.show(containerElement);
            } else {
                 uiState.hide(containerElement);
            }
        }
        
        async function getCoinDataById(coinId) {
             if (!coinId) return null;
             try {
                const url = `https://api.coingecko.com/api/v3/coins/${coinId}?localization=false&tickers=false&market_data=true&community_data=false&developer_data=false`;
                const response = await fetch(url);
                if (!response.ok) return null;
                return await response.json();
             } catch (error) {
                console.error("Error fetching coin data by ID:", error);
                return null;
             }
        }

        async function fetchMainCoinData(coinId) {
            uiState.showLoader();
            const data = await getCoinDataById(coinId);
            if(data) {
                calculateAndDisplay(data);
            } else {
                uiState.showError("No se pudieron obtener los datos para la moneda seleccionada.");
                uiState.hideLoader();
            }
        }
        
        async function triggerSearch() {
            const query = ui.searchInput.value.toLowerCase();
            if (query.length === 0) return;
            
            if (!coinList.length) await getCoinList();

            const bestMatch = coinList.find(coin => coin.name.toLowerCase() === query || coin.symbol.toLowerCase() === query);

            if (bestMatch) {
                uiState.hide(ui.suggestions);
                ui.searchInput.value = '';
                fetchMainCoinData(bestMatch.id);
            } else {
                uiState.showError(`No se encontr√≥ una moneda que coincida exactamente con "${query}". Intenta de nuevo.`);
            }
        }

        function calculateAndDisplay(data) {
            try {
                const { market_data: md, name, symbol, image } = data;
                const athPrice = md.ath?.usd;
                const currentSupply = md.circulating_supply;
                const currentMarketCap = md.market_cap?.usd;
                const currentPrice = md.current_price?.usd;
                const athDate = md.ath_date?.usd ? new Date(md.ath_date.usd).toLocaleDateString('es-ES') : 'N/A';

                if (athPrice === undefined || currentSupply === undefined || currentMarketCap === undefined || currentPrice === undefined) {
                    throw new Error("Datos de la API insuficientes para el c√°lculo.");
                }

                const requiredMarketCap = athPrice * currentSupply;
                const percentageIncrease = currentMarketCap > 0 ? ((requiredMarketCap / currentMarketCap) - 1) * 100 : Infinity;
                
                displayResult({
                    name, symbol: symbol.toUpperCase(), image: image.large,
                    athPrice, athDate, currentPrice, currentMarketCap,
                    requiredMarketCap, percentageIncrease
                });
                uiState.hideLoader();
            } catch (error) {
                 console.error("Error al calcular:", error);
                 uiState.showError("No se pudieron procesar los datos recibidos de la API.");
                 uiState.hideLoader();
            }
        }
        
        const formatCurrency = (num, digits = 2) => num ? new Intl.NumberFormat('es-ES', { style: 'currency', currency: 'USD', maximumFractionDigits: digits }).format(num) : 'N/A';
        const formatCompact = (num) => num ? new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', notation: 'compact', compactDisplay: 'long' }).format(num) : 'N/A';

        function displayResult(data) {
            const { name, symbol, image, athPrice, currentPrice, athDate, currentMarketCap, requiredMarketCap, percentageIncrease } = data;
            const increaseColor = percentageIncrease > 0 ? (percentageIncrease < 500 ? 'text-green-400' : (percentageIncrease < 2000 ? 'text-yellow-400' : 'text-red-500')) : 'text-gray-400';
            ui.result.innerHTML = `
                <div class="bg-gray-800 rounded-xl shadow-lg p-6 md:p-8 max-w-4xl mx-auto border border-gray-700">
                    <div class="flex flex-col md:flex-row items-center gap-6 mb-8">
                        <img src="${image}" alt="${name} logo" class="w-20 h-20 rounded-full bg-gray-700 p-2">
                        <div>
                            <h2 class="text-3xl font-bold text-white">${name} <span class="text-gray-400 text-2xl">${symbol}</span></h2>
                            <p class="text-lg text-gray-300">Precio Actual: <span class="font-semibold text-cyan-400">${formatCurrency(currentPrice, currentPrice > 1 ? 2 : 8)}</span></p>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                        <div class="bg-gray-700/50 p-4 rounded-lg"><h3 class="text-sm font-medium text-gray-400 mb-1">M√°ximo Hist√≥rico (Precio)</h3><p class="text-2xl font-semibold text-white">${formatCurrency(athPrice, athPrice > 1 ? 2 : 8)}</p><p class="text-xs text-gray-500">Alcanzado el ${athDate}</p></div>
                        <div class="bg-gray-700/50 p-4 rounded-lg"><h3 class="text-sm font-medium text-gray-400 mb-1">Market Cap Actual</h3><p class="text-2xl font-semibold text-white">${formatCompact(currentMarketCap)}</p></div>
                    </div>
                    <div class="bg-gradient-to-br from-cyan-500/10 to-blue-500/10 p-6 rounded-xl border border-cyan-500/30 text-center">
                        <h3 class="text-lg font-medium text-cyan-300 mb-2">Para alcanzar el PRECIO de ATH, ${name} necesita:</h3>
                        <p class="text-5xl font-bold text-white mt-4">${formatCompact(requiredMarketCap)}</p>
                         <p class="text-base text-gray-300 mb-4 mt-2">de Capitalizaci√≥n de Mercado (Market Cap)</p>
                        <div class="mt-4 bg-gray-900/50 rounded-lg p-2 inline-block">
                            <p class="text-xs text-gray-400">Aumento necesario del Market Cap:</p>
                            <p class="text-xl font-bold ${increaseColor}">${isFinite(percentageIncrease) ? (percentageIncrease > 0 ? '+' : '') + percentageIncrease.toFixed(2) + '%' : '‚àû'}</p>
                        </div>
                    </div>
                </div>`;
            uiState.show(ui.result);
        }

        function populateExamples() {
            ui.examples.innerHTML = '';
            popularCoins.forEach(coin => {
                const button = document.createElement('button');
                button.className = 'bg-gray-800 border border-gray-700 p-3 rounded-lg flex flex-col items-center justify-center gap-2 hover:bg-gray-700 hover:border-cyan-500 transition duration-300';
                button.onclick = () => fetchMainCoinData(coin.id);
                button.innerHTML = `<img src="${coin.logo}" alt="${coin.name} logo" class="w-10 h-10"><span class="text-sm font-medium text-white">${coin.name}</span>`;
                ui.examples.appendChild(button);
            });
        }
        
        async function handleFlipCalculation() {
            const coinAId = ui.flip.coinA.dataset.coinId;
            const coinBId = ui.flip.coinB.dataset.coinId;
            const resultEl = ui.flip.result;

            if (!coinAId || !coinBId) {
                resultEl.innerHTML = `<p class="text-red-400">Por favor, selecciona ambas monedas de la lista.</p>`;
                uiState.show(resultEl);
                return;
            }

            resultEl.innerHTML = `<div class="loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-6 w-6 mx-auto"></div>`;
            uiState.show(resultEl);

            const [dataA, dataB] = await Promise.all([getCoinDataById(coinAId), getCoinDataById(coinBId)]);

            if (!dataA || !dataB) {
                resultEl.innerHTML = `<p class="text-red-400">No se pudieron obtener los datos. Int√©ntalo de nuevo.</p>`;
                return;
            }
            
            const supplyA = dataA.market_data.circulating_supply;
            const marketCapB = dataB.market_data.market_cap.usd;

            if(supplyA > 0 && marketCapB) {
                const potentialPrice = marketCapB / supplyA;
                resultEl.innerHTML = `<p class="text-gray-300">El precio de ${dataA.name} ser√≠a <span class="text-2xl font-bold text-cyan-400 block">${formatCurrency(potentialPrice, potentialPrice > 1 ? 2 : 8)}</span></p>`;
            } else {
                 resultEl.innerHTML = `<p class="text-red-400">Datos insuficientes para el c√°lculo.</p>`;
            }
        }
        
        async function handleGoalCalculation() {
             const initial = parseFloat(ui.goal.initial.value);
             const target = parseFloat(ui.goal.target.value);
             const coinId = ui.goal.coin.dataset.coinId;
             const resultEl = ui.goal.result;

             if(isNaN(initial) || isNaN(target) || !coinId || initial <= 0 || target <= initial) {
                 resultEl.innerHTML = `<p class="text-red-400">Por favor, completa todos los campos con valores v√°lidos.</p>`;
                 uiState.show(resultEl);
                 return;
             }
             
            resultEl.innerHTML = `<div class="loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-6 w-6 mx-auto"></div>`;
            uiState.show(resultEl);
            
            const data = await getCoinDataById(coinId);

             if (!data) {
                resultEl.innerHTML = `<p class="text-red-400">No se pudo obtener datos para la moneda.</p>`;
                return;
            }
            
            const currentPrice = data.market_data.current_price.usd;
            const currentSupply = data.market_data.circulating_supply;

            if(currentPrice > 0 && currentSupply > 0) {
                 const multiplier = target / initial;
                 const targetPrice = currentPrice * multiplier;
                 const requiredMarketCap = targetPrice * currentSupply;

                 resultEl.innerHTML = `
                    <p class="text-gray-300 text-sm">Para un ${multiplier.toFixed(1)}x, ${data.name} necesita:</p>
                    <p class="text-xl font-bold text-cyan-400">${formatCompact(requiredMarketCap)}</p>
                    <p class="text-gray-400 text-xs">(Precio objetivo: ${formatCurrency(targetPrice, targetPrice > 1 ? 2 : 8)})</p>
                 `;

            } else {
                 resultEl.innerHTML = `<p class="text-red-400">Datos insuficientes para el c√°lculo.</p>`;
            }
        }
        
        function handleYieldCalculation() {
            const amount = parseFloat(ui.yield.amount.value);
            const apy = parseFloat(ui.yield.asset.value);
            const resultEl = ui.yield.result;

            if (isNaN(amount) || isNaN(apy) || amount <= 0) {
                 resultEl.innerHTML = `<p class="text-red-400">Ingresa un monto v√°lido.</p>`;
                 uiState.show(resultEl);
                 return;
            }
            
            const simpleInterest = amount * (apy / 100);
            const compoundTotal = amount * (1 + apy / 100);
            const compoundInterest = compoundTotal - amount;

            resultEl.innerHTML = `
                <div class="space-y-3">
                    <div>
                        <p class="text-gray-300 text-sm">Ganancia (Inter√©s Simple):</p>
                        <p class="text-lg font-bold text-green-400">${formatCurrency(simpleInterest)}</p>
                    </div>
                    <div>
                        <p class="text-gray-300 text-sm">Ganancia (Inter√©s Compuesto Anual):</p>
                        <p class="text-xl font-bold text-green-300">${formatCurrency(compoundInterest)}</p>
                    </div>
                     <p class="text-xs text-gray-500 pt-2">C√°lculo a 1 a√±o. No incluye fluctuaciones de precio del activo base.</p>
                </div>
            `;
            uiState.show(resultEl);
        }

        function handleCopyAddress() {
            const address = ui.walletAddress.textContent;
            navigator.clipboard.writeText(address).then(() => {
                ui.copyFeedback.textContent = '¬°Direcci√≥n copiada!';
                uiState.show(ui.copyFeedback);
                setTimeout(() => {
                    uiState.hide(ui.copyFeedback);
                }, 2000);
            }).catch(err => {
                console.error('Failed to copy: ', err);
                ui.copyFeedback.textContent = 'Error al copiar';
                uiState.show(ui.copyFeedback);
            });
        }

        // --- Carga Inicial de la App y Event Listeners ---
        document.addEventListener('DOMContentLoaded', () => {
            populateExamples();
            getCoinList();
            
            document.addEventListener('click', function(event) {
                const allSuggestions = document.querySelectorAll('[id^="suggestions"]');
                allSuggestions.forEach(s => {
                    const container = s.parentElement;
                    if(container && !container.contains(event.target)) {
                        uiState.hide(s);
                    }
                });
            });
            
            const setupSearch = (input, suggestions) => {
                if(!input) return;
                input.addEventListener('input', (e) => {
                    clearTimeout(searchTimeout);
                    const query = e.target.value.toLowerCase();
                    if (query.length < 2) { uiState.hide(suggestions); return; }
                    searchTimeout = setTimeout(() => showSuggestions(query, input, suggestions), 300);
                });
            };

            setupSearch(ui.searchInput, ui.suggestions);
            setupSearch(ui.flip.coinA, ui.flip.suggestionsA);
            setupSearch(ui.flip.coinB, ui.flip.suggestionsB);
            setupSearch(ui.goal.coin, ui.goal.suggestions);

            if(ui.searchButton) ui.searchButton.addEventListener('click', triggerSearch);
            if(ui.searchInput) ui.searchInput.addEventListener('keydown', (event) => {
                if (event.key === 'Enter') {
                    triggerSearch();
                }
            });

            if(ui.flip.button) ui.flip.button.addEventListener('click', handleFlipCalculation);
            if(ui.goal.button) ui.goal.button.addEventListener('click', handleGoalCalculation);
            if(ui.yield.button) ui.yield.button.addEventListener('click', handleYieldCalculation);
            if(ui.copyButton) ui.copyButton.addEventListener('click', handleCopyAddress);
        });
    </script>
</body>
</html>
